---
name: provider
services:
    locket-op:
        provider:
            type: locket
            options:
                provider: op-connect
                connect-token: file:/etc/tokens/connect
                connect-host: $OP_CONNECT_HOST
                env_file: locket.env
                env:
                    - TEXT="OVERRIDE! {{op://Mordin/SecretPassword/Test Section/text}}"
                    - "@override.env"
    locket-bws:
        provider:
            type: locket
            options:
                provider: bws
                bws-token: file:/etc/tokens/bws
                env:
                    - TEXT={{814d7d9a-54a5-47a0-afc0-b3a7015213c4}}
    locket-infisical:
        provider:
            type: locket
            options:
                provider: infisical
                infisical-client-secret: file:/etc/tokens/infisical
                infisical-client-id: "db63bd8b-4972-4c1e-b047-8ef3482b5666"
                infisical-default-project-id: "0667e4a5-2168-4a63-8800-31475718ae85"
                infisical-default-environment: "dev"
                env:
                    - TEXT={{infisical:///SECRET}}
    demo:
        image: busybox
        user: "1000:1000"
        command: env
        depends_on:
            - locket-op
            - locket-bws
            - locket-infisical
